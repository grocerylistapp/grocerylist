{"version":3,"sources":["../../src/pages/my-previous-trip/my-previous-trip.module.ts","../../src/pages/my-previous-trip/my-previous-trip.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACQ;AAUxD,IAAa,wBAAwB;IAArC;IAAuC,CAAC;IAAD,+BAAC;AAAD,CAAC;AAA3B,wBAAwB;IARpC,uEAAQ,CAAC;QACR,YAAY,EAAE;YACZ,6EAAkB;SACnB;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,6EAAkB,CAAC;SAC7C;KACF,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;;ACZK;AACoE;AAMA;AAG9B;AACA;AAGhF;;;;;GAKG;AAOH,IAAa,kBAAkB;IAS7B,4BAAmB,OAAsB,EAAS,SAAoB,EAAU,EAAuB,EAC7F,gBAAuC,EAAU,IAAyB,EAAU,IAAyB,EAC9G,WAA8B;QAFvC,iBAmBC;QAnBkB,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,OAAE,GAAF,EAAE,CAAqB;QAC7F,qBAAgB,GAAhB,gBAAgB,CAAuB;QAAU,SAAI,GAAJ,IAAI,CAAqB;QAAU,SAAI,GAAJ,IAAI,CAAqB;QAC9G,gBAAW,GAAX,WAAW,CAAmB;QAErC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC;YACrC,OAAO,EAAE,gBAAgB;SAC1B,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QAEvB,IAAI,CAAC;YACH,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;YACxC,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,SAAS,CAAC,UAAC,IAAU;gBAC9E,KAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;gBAC9B,KAAI,CAAC,YAAY,EAAE,CAAC;gBACpB,OAAO,CAAC,GAAG,CAAC,wBAAsB,KAAI,CAAC,iBAAiB,CAAC,GAAK,CAAC,CAAC;YAClE,CAAC,CAAC;QACJ,CAAC;QAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACX,oBAAoB;QACtB,CAAC;IACH,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,mCAAmC,CAAC,CAAC;IACnD,CAAC;IAED,yCAAY,GAAZ;QACE,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,eAAa,IAAI,CAAC,iBAAiB,CAAC,GAAK,CAAC,CAAC;QAC5E,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,QAAQ;YACrD,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;QACzB,CAAC,CAAC,CAAC;IACL,CAAC;IAEH,yBAAC;AAAD,CAAC;AA1CY,kBAAkB;IAL9B,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,uBAAuB;OACG;KACrC,CAAC;uLAUyC,EAAoB,iGAAuB,CAAmB;QAC3E,0EAA2F;QACjG,eAAiB;AA+BxC;SA1CY,kBAAkB,iB","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyPreviousTripPage } from './my-previous-trip';\n\n@NgModule({\n  declarations: [\n    MyPreviousTripPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyPreviousTripPage),\n  ],\n})\nexport class MyPreviousTripPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-previous-trip/my-previous-trip.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController, LoadingController } from 'ionic-angular';\n\nimport { AddShoppingPage } from \"../add-shopping/add-shopping\";\nimport { EditShoppingItemPage } from \"../edit-shopping-item/edit-shopping-item\";\nimport { ShoppingItem } from \"../../models/shopping-item/shopping-item.interface\";\nimport { } from \"../edit-shopping-item/edit-shopping-item\";\nimport { FirebaseListObservable, AngularFireDatabase, FirebaseObjectObservable } from 'angularfire2/database';\nimport { User } from 'firebase/app';\nimport { Subscription } from 'rxjs/Subscription';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport { DataServiceProvider } from '../../providers/data-service/data-service';\nimport { Store } from '../../models/store/store';\n\n/**\n * Generated class for the MyPreviousTripPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-my-previous-trip',\n  templateUrl: 'my-previous-trip.html',\n})\nexport class MyPreviousTripPage {\n  \n    shoppingListRef$: FirebaseListObservable<ShoppingItem[]>;\n    nextTripRef$: FirebaseListObservable<Store[]>;\n  \n    private authenticatedUser: User;\n    private authenticatedUser$: Subscription;\n    private loading;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private db: AngularFireDatabase,\n    private actionSheetCntrl: ActionSheetController, private auth: AuthServiceProvider, private data: DataServiceProvider,\n    public loadingCtrl: LoadingController) {\n    \n    this.loading = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    this.loading.present();\n\n    try {\n      console.log(\"Came to nexttrip oninnit\");\n      this.authenticatedUser$ = this.auth.getAuthenticatedUser().subscribe((user: User) => {\n        this.authenticatedUser = user;\n        this.initFirebase();\n        console.log(`nexttrip got user1 ${this.authenticatedUser.uid}`);\n      })\n    } catch (e) {\n      // console.error(e);\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MyPreviousTripPage');\n  }\n\n  initFirebase() {\n    let self = this;\n    this.nextTripRef$ = this.db.list(`/nexttrip/${this.authenticatedUser.uid}`);\n    this.nextTripRef$.$ref.once(\"value\", function (snapshot) {\n      self.loading.dismiss();\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-previous-trip/my-previous-trip.ts"],"sourceRoot":""}